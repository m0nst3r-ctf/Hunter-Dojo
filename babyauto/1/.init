#!/opt/pwn.college/python

import os
import zipfile

directory_to_extract_to = '/opt/babyauto-crackmes/level1/'
rel_path_to_crash_files = 'crash_data.zip'

os.makedirs(directory_to_extract_to, exist_ok=True)

file_dir_path = os.path.dirname(__file__)

with open(os.path.join(file_dir_path, 'test'), 'w') as file:
    file.write('ran init file before zip')

path_to_crash_zip_files = os.path.join(
    file_dir_path, rel_path_to_crash_files)

with zipfile.ZipFile(path_to_crash_zip_files, 'r') as zip_ref:
    zip_ref.extractall(directory_to_extract_to)

with open(os.path.join(file_dir_path, 'test1'), 'w') as file:
    file.write('ran init file after zip')
